<div class="container">
  <p class="titleUpdateProduct">
    Atualizar
  </p>
  <ng-template [ngIf]="isIdZero" [ngIfElse]="isIdGreaterThanZero">
    <div>
      <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 demo-table">
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef class="headerUpdateProduct"> Nome do produto</th>
          <td mat-cell (click)="getById(element.productId)" *matCellDef="let element" class="headerUpdateProduct">
            {{element.productName}}
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row (click)="clickedRows.add(row)" [class.demo-row-is-clicked]="clickedRows.has(row)" *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </div>
  </ng-template>

  <ng-template #isIdGreaterThanZero>
    <p class="titleUpdateProduct">
      Produto
    </p>
    <div>
      <div class="inputs">
      <mat-form-field appearance="fill">
        <mat-label>Novo nome</mat-label>
        <input id="nameProduct" name="nameProduct" [(ngModel)]="productModel.productName"  matInput />
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>Nova categoria</mat-label>
        <mat-select placeholder="{{productModel.categoryName}}" [(ngModel)]="productModel.categoryName" #matSelect id="dropDownListCategory" name="dropDownListCategory" [value]="selectedValue" (selectionChange)="change($event.value)" class="categoryName">
          <mat-option [value]="element" *ngFor="let element of dataSourceCategory">
            {{ element.categoryName }}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>Novo custo</mat-label>
        <input id="costPrice" name="costPrice" [(ngModel)]="productModel.costPrice" matInput currencyMask [options]="{ prefix: '', thousands: '.', decimal: ',' }"/>
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>Novo custo de venda</mat-label>
        <input id="salePrice" name="salePrice" [(ngModel)]="productModel.salePrice" matInput currencyMask [options]="{ prefix: '', thousands: '.', decimal: ',' }"/>
      </mat-form-field>
    </div>
      <div class="input3row">
      <mat-form-field appearance="fill">
        <mat-label>Nova quantidade em estoque</mat-label>
        <input id="quantityStock" name="quantityStock"  [(ngModel)]="productModel.quantityStock" matInput type="number" (ngModelChange)="calculate()"/>
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>Total custo</mat-label>
        <input id="quantityStock" name="quantityStock" matInput [(ngModel)]="productModel.totalValueCostOfInventory" currencyMask [options]="{ prefix: '', thousands: '.', decimal: ',' }" readonly/>
      </mat-form-field>
      <mat-form-field appearance="fill">
        <mat-label>Total venda</mat-label>
        <input id="quantityStock" name="quantityStock" matInput [(ngModel)]="productModel.totalValueSaleStock" currencyMask [options]="{ prefix: '', thousands: '.', decimal: ',' }" readonly/>
      </mat-form-field>
    </div>
      <div class="checkboxs">
        <div class="example-section" *ngFor="let item of items">
          <mat-checkbox  class="example-margin" [checked]="needToPrint" (change)="onChange($event)">{{item.label}}</mat-checkbox>
        </div>
        <div class="example-section" *ngFor="let status of status">
          <mat-checkbox  class="example-margin" [checked]="productStatus" (change)="onChangeStatus($event)">{{status.label}}</mat-checkbox>
        </div>
    </div>
    </div>
  </ng-template>
  <div class="btns">
    <section class="back_btn">
      <div class="example-button-row">
        <div class="example-flex-container">
          <div class="example-button-container">
            <div class="example-label headerUpdateProduct">
              <div class="labelToButton">Voltar</div>
              <button mat-raised-button mat-mini-fab matTooltip="Voltar" (click)="reply()"
                color="primary" aria-label="Example icon button with a menu icon">
                <mat-icon>reply_all</mat-icon>
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>
  
    <section class="update_btn">
      <div class="example-button-row">
        <div class="example-flex-container">
          <div class="example-button-container">
            <div class="example-label headerUpdateProduct">
              <div class="labelToButton">Atualizar</div>
              <button mat-raised-button mat-mini-fab matTooltip="Atualizar a categoria." (click)="update()"
                color="primary" aria-label="Example icon button with a menu icon">
                <mat-icon>sync</mat-icon>
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>